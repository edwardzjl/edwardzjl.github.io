"use strict";(self.webpackChunkedwardzjl_github_io=self.webpackChunkedwardzjl_github_io||[]).push([[430],{7308:t=>{t.exports=JSON.parse('{"permalink":"/en/distributed-sft-part-1","editUrl":"https://github.com/edwardzjl/edwardzjl.github.io/blob/main/blog/2025-01-23-distributed-sft-part-1/index.md","source":"@site/blog/2025-01-23-distributed-sft-part-1/index.md","title":"Distributed SFT Part 1: Starting Locally","description":"Introduction","date":"2025-01-23T00:00:00.000Z","tags":[{"inline":true,"label":"LLM","permalink":"/en/tags/llm"},{"inline":true,"label":"distributed-training","permalink":"/en/tags/distributed-training"}],"readingTime":7.93,"hasTruncateMarker":true,"authors":[{"name":"Junlin Zhou","title":"Fullstack Engineer @ ZJU ICI","url":"https://github.com/edwardzjl","imageURL":"https://github.com/edwardzjl.png","key":"jlzhou","page":null}],"frontMatter":{"slug":"distributed-sft-part-1","authors":["jlzhou"],"tags":["LLM","distributed-training"]},"unlisted":false,"prevItem":{"title":"Distributed SFT Part 2: Scaling Locally","permalink":"/en/distributed-sft-part-2"},"nextItem":{"title":"[\u8bd1] JSON\u683c\u5f0f\u4f5c\u4e3a\u914d\u7f6e\u6587\u4ef6\u7684\u7f3a\u70b9","permalink":"/en/the-downsides-of-json-for-config-files"}}')},8112:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>u});var i=n(7308),r=n(4848),s=n(8453);const l={slug:"distributed-sft-part-1",authors:["jlzhou"],tags:["LLM","distributed-training"]},a="Distributed SFT Part 1: Starting Locally",o={authorsImageUrls:[void 0]},u=[{value:"Introduction",id:"introduction",level:2}];function d(t){const e={a:"a",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(e.p,{children:["Welcome to this series of articles documenting the lessons I learned during my first attempt at running distributed supervised fine-tuning (SFT) tasks using ",(0,r.jsx)(e.a,{href:"https://github.com/huggingface/trl",children:"trl"})," and ",(0,r.jsx)(e.a,{href:"https://github.com/microsoft/DeepSpeed",children:"DeepSpeed"}),"."]}),"\n",(0,r.jsx)(e.p,{children:"This series will walk you through my journey, starting with a simple local experiment and progressively scaling up to a distributed environment. The three parts of this series are:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Part 1: The Local Experiment"})," -- I will show you how I ran my very first local SFT experiment, following the official ",(0,r.jsx)(e.a,{href:"https://huggingface.co/docs/trl/sft_trainer",children:"trl documentation"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Part 2: Multi GPU"})," -- We will leverage ",(0,r.jsx)(e.strong,{children:"single-machine, multi-GPU"})," parallel training to complete a full SFT task in our local environment."]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Part 3: Multi Machine"})," -- We'll take things a step further by submitting the same training task to a Kubernetes cluster, utilizing ",(0,r.jsx)(e.strong,{children:"multi-machine, multi-GPU"})," training with ",(0,r.jsx)(e.a,{href:"https://github.com/kubeflow/training-operator",children:"Kubeflow's Training Operator"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"A quick note about myself: I'm a software development engineer who is fairly new to the field of deep learning. If these articles seem too basic for you, I appreciate your patience as I navigate this learning journey."})]})}function c(t={}){const{wrapper:e}={...(0,s.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(d,{...t})}):d(t)}},8453:(t,e,n)=>{n.d(e,{R:()=>l,x:()=>a});var i=n(6540);const r={},s=i.createContext(r);function l(t){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:l(t.components),i.createElement(s.Provider,{value:e},t.children)}}}]);